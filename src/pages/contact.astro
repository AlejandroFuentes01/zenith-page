---
import Layout from '../layouts/Layout.astro';
import Navbar from '../components/Navbar.astro';
import Footer from '../components/Footer.astro';

const title = "Contact Us - Get Started with Your Digital Project";
const description = "Ready to transform your ideas into reality? Contact Zenith.dev for expert web development, mobile apps, and digital solutions. Let's create something amazing together.";
const image = "https://i.pinimg.com/736x/b7/31/08/b731088b99a11c309365250f2f0db42d.jpg";
---

<Layout 
  title={title}
  description={description}
  image={image}
>
  <Navbar />
  <main>
    <section class="min-h-screen pt-32 pb-24 bg-gradient-to-b from-purple-50 via-white to-purple-50">
      {/* Hero Section */}
      <div class="container mx-auto px-4 mb-16">
        <div class="text-center max-w-3xl mx-auto">
          <h1 class="text-4xl md:text-5xl font-bold mb-6 leading-tight">
            Let's Create Something<br/>Amazing Together
          </h1>
          <p class="text-gray-600 text-lg">
            Ready to transform your ideas into reality? We're here to help you build the perfect solution for your needs.
          </p>
        </div>
      </div>

      <div class="container mx-auto px-4">
        <div class="max-w-5xl mx-auto">
          <div class="bg-white rounded-[2.5rem] shadow-lg p-6 md:p-12">
            <div class="grid lg:grid-cols-2 gap-12">
              {/* Left Side - Form */}
              <div class="space-y-8">
                <div>
                  <h2 class="text-2xl font-bold mb-2">Send us a Message</h2>
                  <p class="text-gray-600">Fill out the form and we'll get back to you shortly.</p>
                </div>

                <form class="space-y-6" id="contact-form">
                  <div class="grid md:grid-cols-2 gap-6">
                    <div class="form-group">
                      <label for="firstName" class="block text-sm font-medium text-gray-700 mb-2">First Name</label>
                      <input
                        type="text"
                        id="firstName"
                        name="firstName"
                        class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-primary/20 focus:border-primary"
                        required
                      />
                    </div>
                    <div class="form-group">
                      <label for="lastName" class="block text-sm font-medium text-gray-700 mb-2">Last Name</label>
                      <input
                        type="text"
                        id="lastName"
                        name="lastName"
                        class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-primary/20 focus:border-primary"
                        required
                      />
                    </div>
                  </div>

                  <div class="form-group">
                    <label for="email" class="block text-sm font-medium text-gray-700 mb-2">Email Address</label>
                    <input
                      type="email"
                      id="email"
                      name="email"
                      class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-primary/20 focus:border-primary"
                      required
                    />
                  </div>

                  <div class="form-group">
                    <label for="phone" class="block text-sm font-medium text-gray-700 mb-2">Phone Number (Optional)</label>
                    <input
                      type="tel"
                      id="phone"
                      name="phone"
                      class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-primary/20 focus:border-primary"
                    />
                  </div>

                  <div class="form-group">
                    <label for="service" class="block text-sm font-medium text-gray-700 mb-2">Service Interested In</label>
                    <select
                      id="service"
                      name="service"
                      class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-primary/20 focus:border-primary"
                      required
                    >
                      <option value="">Select a service</option>
                      <option value="web">Web Development</option>
                      <option value="mobile">Mobile App Development</option>
                      <option value="ui">UI/UX Design</option>
                      <option value="consulting">Technical Consulting</option>
                      <option value="web">Another</option>
                    </select>
                  </div>

                  <div class="form-group">
                    <label for="message" class="block text-sm font-medium text-gray-700 mb-2">Project Details</label>
                    <textarea
                      id="message"
                      name="message"
                      rows="4"
                      class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-primary/20 focus:border-primary"
                      style="min-height: 120px; resize: vertical;"
                      required
                    ></textarea>
                  </div>

                  <button
                    type="submit"
                    class="w-full bg-[#C4B5FD] hover:bg-[#C4B5FD]/90 text-black px-8 py-4 rounded-full transition-all duration-300"
                  >
                    Send Message
                  </button>
                </form>
              </div>

              {/* Right Side - Contact Info */}
              <div class="lg:pl-12 lg:border-l border-gray-100">
                <div class="space-y-8">
                  <div>
                    <h2 class="text-2xl font-bold mb-6">Contact Information</h2>
                    <div class="space-y-6">
      
                      <div class="flex items-start gap-4 p-4">
                        <div class="w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0">
                          <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-primary" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
                          </svg>
                        </div>
                        <div>
                          <h3 class="font-semibold text-lg mb-1">Email Us</h3>
                          <a href="mailto:zenithdev8@gmail.com" class="text-gray-600 hover:text-primary">
                            zenithdev8@gmail.com
                          </a>
                        </div>
                      </div>

                      <div class="flex items-start gap-4 p-4">
                        <div class="w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0">
                          <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-primary" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z" />
                          </svg>
                        </div>
                        <div>
                          <h3 class="font-semibold text-lg mb-1">Call Us</h3>
                          <a href="tel:+523125542986" class="text-gray-600 hover:text-primary">
                            +52 312 554 2986
                          </a>
                        </div>
                      </div>
                    </div>
                  </div>

                  <div class="p-6 bg-gray-50 rounded-2xl">
                    <h3 class="text-lg font-semibold mb-4">Business Hours</h3>
                    <div class="space-y-2 text-gray-600">
                      <p class="flex justify-between">
                        <span>Monday - Saturday:</span>
                        <span>8:00 AM - 6:00 PM</span>
                      </p>
                      <p class="flex justify-between">
                        <span>Sunday:</span>
                        <span>Closed</span>
                      </p>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    {/* Toast Notification */}
    <div
      id="toast"
      class="hidden fixed bottom-4 right-4 z-50 bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg transition-all duration-300 transform translate-y-0 max-w-sm"
    >
      <div class="flex items-center space-x-2">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          class="h-5 w-5"
          fill="none"
          viewBox="0 0 24 24"
          stroke="currentColor"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M5 13l4 4L19 7"
          ></path>
        </svg>
        <span class="text-sm">Message sent successfully! We'll get back to you soon.</span>
      </div>
    </div>
  </main>
  <Footer />
</Layout>

<style>
  .container {
    max-width: 1280px;
  }

  .form-group:focus-within label {
    color: var(--primary);
  }

  @media (max-width: 768px) {
    textarea {
      min-height: 120px;
    }
  }

  /* Toast Animations */
  #toast {
    opacity: 0;
    visibility: hidden;
    transform: translateY(100%) translateX(0);
  }

  #toast.show {
    opacity: 1;
    visibility: visible;
    transform: translateY(0) translateX(0);
  }

  @keyframes slide-in {
    from {
      transform: translateY(100%);
      opacity: 0;
    }
    to {
      transform: translateY(0);
      opacity: 1;
    }
  }

  @keyframes slide-out {
    from {
      transform: translateY(0);
      opacity: 1;
    }
    to {
      transform: translateY(100%);
      opacity: 0;
    }
  }

  .slide-in {
    animation: slide-in 0.3s ease forwards;
  }

  .slide-out {
    animation: slide-out 0.3s ease forwards;
  }
</style>

<script>
  const form = document.getElementById("contact-form") as HTMLFormElement;
  const toast = document.getElementById("toast");

  function showToast() {
    if (toast) {
      toast.classList.remove("hidden");
      toast.classList.add("show", "slide-in");

      // Hide toast after 5 seconds
      setTimeout(() => {
        toast.classList.add("slide-out");
        setTimeout(() => {
          toast.classList.remove("show", "slide-in", "slide-out");
          toast.classList.add("hidden");
        }, 300);
      }, 5000);
    }
  }

  if (form) {
    form.addEventListener("submit", async (e) => {
      e.preventDefault();

      const formData = new FormData(form);
      const data = Object.fromEntries(formData);

      try {
        const response = await fetch("/api/send-email", {
          method: "POST",
          headers: {
            "Content-Type": "application/json",
          },
          body: JSON.stringify(data),
        });

        if (response.ok) {
          showToast();
          form.reset();
        } else {
          if (toast) {
            toast.classList.remove("bg-green-500");
            toast.classList.add("bg-red-500");
            toast.querySelector("span").textContent =
              "Error sending message. Please try again.";
            showToast();
          }
        }
      } catch (error) {
        if (toast) {
          toast.classList.remove("bg-green-500");
          toast.classList.add("bg-red-500");
          toast.querySelector("span").textContent =
            "Error sending message. Please try again.";
          showToast();
        }
      }
    });
  }
</script>